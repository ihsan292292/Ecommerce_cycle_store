<html>
    <head>
      <!-- Font Awesome -->
        <link
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        rel="stylesheet"
        />
        <!-- Google Fonts -->
        <link
        href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
        rel="stylesheet"
        />
        <!-- MDB -->
        <link
        href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.1/mdb.min.css"
        rel="stylesheet"
        />
        <!-- MDB -->
        <script
        type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.1/mdb.min.js"
        ></script>
        <style>
            @media (min-width: 1025px) {
                .h-custom {
                height: 100vh !important;
                }
                }
                .col-lg-6 {
                  flex: 0 0 auto;
                  width: 100%;
              }
                
                .number-input input[type="number"] {
                -webkit-appearance: textfield;
                -moz-appearance: textfield;
                appearance: textfield;
                }
                
                .number-input input[type=number]::-webkit-inner-spin-button,
                .number-input input[type=number]::-webkit-outer-spin-button {
                -webkit-appearance: none;
                }
                
                .number-input button {
                -webkit-appearance: none;
                background-color: transparent;
                border: none;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                margin: 0;
                position: relative;
                }
                
                .number-input button:before,
                .number-input button:after {
                display: inline-block;
                position: absolute;
                content: '';
                height: 2px;
                transform: translate(-50%, -50%);
                }
                
                .number-input button.plus:after {
                transform: translate(-50%, -50%) rotate(90deg);
                }
                
                .number-input input[type=number] {
                text-align: center;
                }
                
                .number-input.number-input {
                border: 1px solid #ced4da;
                width: 10rem;
                border-radius: .25rem;
                }
                
                .number-input.number-input button {
                width: 2.6rem;
                height: .7rem;
                }
                
                .number-input.number-input button.minus {
                padding-left: 10px;
                }
                
                .number-input.number-input button:before,
                .number-input.number-input button:after {
                width: .7rem;
                background-color: #495057;
                }
                
                .number-input.number-input input[type=number] {
                max-width: 4rem;
                padding: .5rem;
                border: 1px solid #ced4da;
                border-width: 0 1px;
                font-size: 1rem;
                height: 2rem;
                color: #495057;
                }
                
                @media not all and (min-resolution:.001dpcm) {
                @supports (-webkit-appearance: none) and (stroke-color:transparent) {
                
                .number-input.def-number-input.safari_only button:before,
                .number-input.def-number-input.safari_only button:after {
                margin-top: -.3rem;
                }
                }
                }
                
                .shopping-cart .def-number-input.number-input {
                border: none;
                }
                
                .shopping-cart .def-number-input.number-input input[type=number] {
                max-width: 2rem;
                border: none;
                }
                
                .shopping-cart .def-number-input.number-input input[type=number].black-text,
                .shopping-cart .def-number-input.number-input input.btn.btn-link[type=number],
                .shopping-cart .def-number-input.number-input input.md-toast-close-button[type=number]:hover,
                .shopping-cart .def-number-input.number-input input.md-toast-close-button[type=number]:focus {
                color: #212529 !important;
                }
                
                .shopping-cart .def-number-input.number-input button {
                width: 1rem;
                }
                
                .shopping-cart .def-number-input.number-input button:before,
                .shopping-cart .def-number-input.number-input button:after {
                width: .5rem;
                }
                
                .shopping-cart .def-number-input.number-input button.minus:before,
                .shopping-cart .def-number-input.number-input button.minus:after {
                background-color: #9e9e9e;
                }
                
                .shopping-cart .def-number-input.number-input button.plus:before,
                .shopping-cart .def-number-input.number-input button.plus:after {
                background-color: #4285f4;
                }
        </style>
        {% comment %} <script>
          function searchCart() {
            var input, filter, items, itemName, i;
            input = document.getElementById("searchbox");
            filter = input.value.toUpperCase();
            items = document.querySelectorAll(".d-flex.align-items-center"); // Select the cart items
          
            for (i = 0; i < items.length; i++) {
              itemName = items[i].querySelector("h5.text-primary").textContent.toUpperCase();
              if (itemName.indexOf(filter) > -1) {
                items[i].style.display = "";
              } else {
                items[i].style.display = "none";
              }
            }
          }
          
          // Add an event listener to trigger the search on input change
          </script> {% endcomment %}
          
    </head>
    <body style="background-color: blue;">
      <nav style="padding:20px;">
      <a href="{% url 'view-wishlist' %}"><button type="button" class="btn btn-light">Back to Wishlist</button></a>
      <a href="{% url 'buyer_index_all' %}"><button type="button" class="btn btn-light">Back to Main Home</button></a>
      </nav>
        <section class="h-100 h-custom" style="background-color: #eee;">

          {% if messages %}
          {% for message in messages%}
          <div class="alert {{ message.tags }}" role="alert">
             {{ message }}
             <button type="button" class="close" data-dismiss="alert" aria-label="Close">
               <span aria-hidden="true">&times;</span>
             </button>
          </div>
          {% endfor %}
          {% endif %}

            <div class="container h-100 py-5">
              <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col">
                  <div class="card shopping-cart" style="border-radius: 15px;">
                    <div class="card-body text-black">
                    
                      <div class="row">
                        <div class="col-lg-6 px-5 py-4">          
                          <h3 class="mb-5 pt-2 text-center fw-bold text-uppercase">Your products</h3>
                          {% for i,j,k,l,m,n,o,p,q,r,s in data %}
                          {% if i == u_id %}

                          <div class="d-flex align-items-center mb-5">
                            <div class="flex-shrink-0">
                              <img src="/static/Uploaded_images/{{r}}"
                                class="img-fluid" style="width: 150px;" alt="Generic placeholder image" name="pro_image">
                            </div>
                            <div class="flex-grow-1 ms-3">
                              <a href="{% url 'delete_cart' s %}" class="float-end text-black"><i class="fas fa-times"></i></a>
                              <h5 class="text-primary">{{n}}</h5>
                              <h6 style="color: #9e9e9e;">Color: <input type="color" value="{{p}}" disabled style="height:15px;" name="color"></h6>
                              <div class="d-flex align-items-center">
                                <p class="fw-bold mb-0 me-5 pe-3">₹ {{q}}</p>
                                <div class="def-number-input number-input safari_only">
                                  <a href="{% url 'decrement-pro' s %}"><button onclick="this.parentNode.querySelector('input[type=number]').stepDown()"
                                    class="minus"></button></a>
                                  <input class="quantity fw-bold text-black" min="0" name="quantity" value="{{k}}"
                                    type="number">
                                  <a href="{% url 'increment-pro' s %}"><button onclick="this.parentNode.querySelector('input[type=number]').stepUp()"
                                    class="plus" ></button></a>
                                </div>
                              </div>
                            </div>
                          </div>
                          {% endif %}
                        {% endfor %}
          
                          <hr class="mb-4" style="height: 2px; background-color: #1266f1; opacity: 1;">
          
                          <div class="d-flex justify-content-between px-x">
                            <p class="fw-bold">Discount:</p>
                            <p class="fw-bold">₹100</p>
                          </div>
                          <div class="d-flex justify-content-between p-2 mb-2" style="background-color: #e1f5fe;">
                            <h5 class="fw-bold mb-0">Total:</h5>
                            <h5 class="fw-bold mb-0">₹ {% with y=-100 %}{{ tp|add:y }} {% endwith %}</h5>
                          </div>
          
                        </div>
                        <div class="col-lg-6 px-5 py-4">
          
                          <!-- Credit card form -->
                          <section>
                            <form method="post">
                            <div class="row">
                              <div class="col-md-8 mb-4">
                                <div class="card mb-4">
                                  <div class="card-header py-3">
                                    <h5 class="mb-0">Biling details</h5>
                                  </div>
                                  <form method="post">
                                    {% csrf_token %}
                                  <div class="card-body">
                                      <!-- 2 column grid layout with text inputs for the first and last names -->
                                      <div class="row mb-4">
                                        <div class="col">
                                          <div class="form-outline">
                                            <label class="form-label" for="form6Example1" style="color:blue">First name</label>
                                            <input type="text" id="form6Example1" class="form-control" value="{{buyer.name}}" name = "name"/>
                                            
                                          </div>
                                        </div>
                        
                                      </div>
                                    
                                      <!-- Text input -->
                            
                                    
                                      <!-- Text input -->
                                      <div class="form-outline mb-4">
                                        <label class="form-label" for="form6Example4" style="color:blue">Street</label>
                                        <input type="text" id="form6Example4" class="form-control" value="{{buyer.street}}" name="street"/>
                                        
                                      </div>
                                      <div class="form-outline mb-4">
                                        <label class="form-label" for="form6Example4" style="color:blue">City</label>
                                        <input type="text" id="form6Example4" class="form-control" value="{{buyer.city}}" name="city"/>
                                        
                                      </div>
                                      <div class="form-outline mb-4">
                                        <label class="form-label" for="form6Example4" style="color:blue">State</label>
                                        <input type="text" id="form6Example4" class="form-control" value="{{buyer.state}}" name="state"/>
                                        
                                      </div>
                                      <div class="form-outline mb-4">
                                        <label class="form-label" for="form6Example4" style="color:blue">Pincode</label>
                                        <input type="text" id="form6Example4" class="form-control" value="{{buyer.pincode}}" name="pincode"/>
                                        
                                      </div>
                                    
                                      <!-- Email input -->
                                      <div class="form-outline mb-4">
                                        <label class="form-label" for="form6Example5" style="color:blue">Email</label>
                                        <input type="email" id="form6Example5" class="form-control" value="{{buyer.email}}" name="email"/>
                                        
                                      </div>
                                    
                                      <!-- Number input -->
                                      <div class="form-outline mb-4">
                                        <label class="form-label" for="form6Example6" style="color:blue">Phone</label>
                                        <input type="number" id="form6Example6" class="form-control" value="{{buyer.phone}}" name="phone"/>
                                        
                                      </div>
                                    
                                      <hr class="my-4" />
                                    
                                      <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="" id="checkoutForm1" />
                                        <label class="form-check-label" for="checkoutForm1">
                                          Shipping address is the same as my billing address
                                        </label>
                                      </div>
                                    
                                      <div class="form-check mb-4">
                                        <input class="form-check-input" type="checkbox" value="" id="checkoutForm2" checked />
                                        <label class="form-check-label" for="checkoutForm2">
                                          Save this information for next time
                                        </label>
                                      </div>
                                      <input type="submit" class="btn btn-primary" value="Submit Address">
                                    </form>
                                    
                                      <hr class="my-4" />
                                    
                                      <h5 class="mb-4">Payment</h5>
                                    
                                      <div class="form-check">
                                        <input class="form-check-input" type="radio" name="flexRadioDefault" id="checkoutForm3"
                                          checked />
                                        <label class="form-check-label" for="checkoutForm3">
                                          Credit card
                                        </label>
                                      </div>
                                    
                                      <div class="form-check">
                                        <input class="form-check-input" type="radio" name="flexRadioDefault" id="checkoutForm4" />
                                        <label class="form-check-label" for="checkoutForm4">
                                          Debit card
                                        </label>
                                      </div>
                                    
                                      <div class="form-check mb-4">
                                        <input class="form-check-input" type="radio" name="flexRadioDefault" id="checkoutForm5" />
                                        <label class="form-check-label" for="checkoutForm5">
                                          Paypal
                                        </label>
                                      </div>
                                    
                                      <div class="row mb-4">
                                        <div class="col">
                                          <div class="form-outline">
                                            <input type="text" id="formNameOnCard" class="form-control" />
                                            <label class="form-label" for="formNameOnCard">Name on card</label>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-outline">
                                            <input type="text" id="formCardNumber" class="form-control" />
                                            <label class="form-label" for="formCardNumber">Credit card number</label>
                                          </div>
                                        </div>
                                      </div>
                                    
                                      <div class="row mb-4">
                                        <div class="col-3">
                                          <div class="form-outline">
                                            <input type="text" id="formExpiration" class="form-control" />
                                            <label class="form-label" for="formExpiration">Expiration</label>
                                          </div>
                                        </div>
                                        <div class="col-3">
                                          <div class="form-outline">
                                            <input type="text" id="formCVV" class="form-control" />
                                            <label class="form-label" for="formCVV">CVV</label>
                                          </div>
                                        </div>
                                      </div>
                                    
                                      <a href="{% url 'delivery_details_add' %}">
                                        Continue to checkout
                                      </a>
                                    
                                  </div>
                                </div>
                              </div>
                            
                              <div class="col-md-4 mb-4">
                                <div class="card mb-4">
                                  <div class="card-header py-3">
                                    <h5 class="mb-0">Summary</h5>
                                  </div>
                                  <div class="card-body">
                                    <ul class="list-group list-group-flush">
                                      <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
                                        Products
                                        <span>₹ {% with y=-100 %}{{ tp|add:y }} {% endwith %}</span>
                                      </li>
                                      <li class="list-group-item d-flex justify-content-between align-items-center px-0">
                                        Shipping
                                        <span>Gratis</span>
                                      </li>
                                      <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
                                        <div>
                                          <strong>Total amount</strong>
                                          <strong>
                                            <p class="mb-0">(including VAT)</p>
                                          </strong>
                                        </div>
                                        <span><strong>₹ {% with y=-100 %}{{ tp|add:y }} {% endwith %}</strong></span>
                                      </li>
                                    </ul>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </section>                
    <!-- Credit card form -->          
                        </div>
                      </div>
          
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
    </body>
</html>


